# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã —Å–æ–≤–º–µ—â–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

## üì¶ –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (2 –º–∏–Ω—É—Ç—ã)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd image-alignment

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
python -c "import cv2; print('OpenCV:', cv2.__version__)"
```

## üìÅ –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (1 –º–∏–Ω—É—Ç–∞)

–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:

```
your_project/
‚îú‚îÄ‚îÄ images/              # –í—Ö–æ–¥–Ω—ã–µ BMP —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ image7_b.bmp    # –≠—Ç–∞–ª–æ–Ω (–∫–∞–º–µ—Ä–∞ 1)
‚îÇ   ‚îú‚îÄ‚îÄ image8_b.bmp    # –î–ª—è —Å–æ–≤–º–µ—â–µ–Ω–∏—è (–∫–∞–º–µ—Ä–∞ 2)
‚îÇ   ‚îú‚îÄ‚îÄ image9_b.bmp    # –≠—Ç–∞–ª–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ image10_b.bmp   # –î–ª—è —Å–æ–≤–º–µ—â–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ results/            # –°–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**–í–∞–∂–Ω–æ:** –ù–µ—á–µ—Ç–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ = —ç—Ç–∞–ª–æ–Ω, —á–µ—Ç–Ω—ã–µ = —Å–æ–≤–º–µ—â–∞–µ–º—ã–µ.

## üöÄ –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ (10 —Å–µ–∫—É–Ω–¥)

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
python main.py --input ./images --output ./results
```

–ì–æ—Ç–æ–≤–æ! üéâ

### –° –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)

```bash
python main.py -i ./images -o ./results --viz
```

## üìä –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```
results/
‚îú‚îÄ‚îÄ image8_b_transform.json       # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ image10_b_transform.json
‚îú‚îÄ‚îÄ summary_report.json           # –°–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º
‚îî‚îÄ‚îÄ visualizations/
    ‚îú‚îÄ‚îÄ image8_b_heatmap.jpg      # –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞
    ‚îú‚îÄ‚îÄ image8_b_overlay.jpg      # –ù–∞–ª–æ–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ image8_b_checkerboard.jpg # –®–∞—Ö–º–∞—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
    ‚îî‚îÄ‚îÄ ...
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

1. **summary_report.json** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   ```json
   {
     "average_rmse": 0.847,           // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å ‚â§ 1.0
     "average_inlier_ratio": 0.89     // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å ‚â• 0.7
   }
   ```

2. **checkerboard.jpg** - –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—â–µ–Ω–∏–µ:
   - –õ–∏–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ
   - –ù–µ—Ç –¥–≤–æ–µ–Ω–∏—è –∫–æ–Ω—Ç—É—Ä–æ–≤
   - –®–∞—Ö–º–∞—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –±–µ–∑ —Å–º–µ—â–µ–Ω–∏–π

3. **heatmap.jpg** - –∫–∞—Ä—Ç–∞ —Ä–∞–∑–Ω–∏—Ü—ã:
   - –ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —Å–∏–Ω—è—è/–∑–µ–ª–µ–Ω–∞—è (–º–∞–ª–∞—è —Ä–∞–∑–Ω–∏—Ü–∞)
   - –ö—Ä–∞—Å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —á–∞—Å—Ç–∏—Ü–∞—Ö (—ç—Ç–æ –Ω–æ—Ä–º–∞)

## üîç –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π"

```bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ SIFT (–±–æ–ª–µ–µ –º–æ—â–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä)
python main.py -i ./images -o ./results --detector sift
```

### –ü—Ä–æ–±–ª–µ–º–∞: RMSE > 2 –ø–∏–∫—Å–µ–ª–µ–π

```bash
# –°–Ω–∏–∑—å—Ç–µ –ø–æ—Ä–æ–≥ RANSAC
python main.py -i ./images -o ./results --ransac-threshold 2.0
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫
python main.py -i ./images -o ./results --max-features 3000
```

## üß™ –¢–µ—Å—Ç –Ω–∞ –æ–¥–Ω–æ–π –ø–∞—Ä–µ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

–ü–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤—Å–µ—Ö –ø–∞—Ä, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –æ–¥–Ω–æ–π:

```bash
python test_single_pair.py images/image7_b.bmp images/image8_b.bmp --show
```

–≠—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç –æ–∫–Ω–∞ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

## üìñ –ß—Ç–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ JSON

–ü—Ä–∏–º–µ—Ä `image8_b_transform.json`:

```json
{
  "homography": [         // –ú–∞—Ç—Ä–∏—Ü–∞ 3x3 –¥–ª—è cv2.warpPerspective()
    [0.998, -0.012, 12.5],
    [0.015,  0.997, -5.3],
    [0.0001, -0.0002, 1.0]
  ],
  
  "transform_decomposed": {
    "rotation_deg": -0.85,     // –ü–æ–≤–æ—Ä–æ—Ç –≤ –≥—Ä–∞–¥—É—Å–∞—Ö
    "scale_x": 0.9992,         // –ú–∞—Å—à—Ç–∞–± –ø–æ X
    "scale_y": 1.0008,         // –ú–∞—Å—à—Ç–∞–± –ø–æ Y
    "shift_x_px": 12.5,        // –°–¥–≤–∏–≥ –ø–æ X –≤ –ø–∏–∫—Å–µ–ª—è—Ö
    "shift_y_px": -5.3         // –°–¥–≤–∏–≥ –ø–æ Y –≤ –ø–∏–∫—Å–µ–ª—è—Ö
  },
  
  "quality": {
    "rmse_pixels": 0.734,      // ‚Üê –ì–ª–∞–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏!
    "inlier_ratio": 0.9216     // –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
  }
}
```

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –∫–æ–¥–µ

### Python

```python
import cv2
import json
import numpy as np

# –ó–∞–≥—Ä—É–∑–∫–∞ –≥–æ–º–æ–≥—Ä–∞—Ñ–∏–∏
with open('results/image8_b_transform.json', 'r') as f:
    data = json.load(f)

H = np.array(data['homography'])

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –Ω–æ–≤–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
img = cv2.imread('image8_b.bmp')
aligned = cv2.warpPerspective(img, H, (width, height))
```

### MATLAB

```matlab
% –ó–∞–≥—Ä—É–∑–∫–∞ JSON
data = jsondecode(fileread('image8_b_transform.json'));
H = reshape([data.homography{:}], 3, 3)';

% –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
tform = projective2d(H');
aligned = imwarp(img, tform);
```

## üéì –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –°–º. `README.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö
2. **–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API**: –°–º. `example_usage.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–≤–æ–µ–º –∫–æ–¥–µ
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ü–æ–¥–±–µ—Ä–∏—Ç–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–∞—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `README.md`
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞: `example_usage.py`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `test_single_pair.py`

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.10+
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pip install -r requirements.txt`)
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã BMP —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ (`python main.py -i ./images -o ./results --viz`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω `summary_report.json`
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] RMSE ‚â§ 1.0 –ø–∏–∫—Å–µ–ª—å ‚úÖ

---

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. üéâ**

–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–∑—É—á–∏—Ç–µ `README.md` –∏ `example_usage.py`.